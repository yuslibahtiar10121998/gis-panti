<div class="container">

    <div class="row">
        <div class="col-sm-9">
            <div class="panel panel-primary">
                <div class="panel-heading">Pemetaan Lokasi Panti Asuhan Di Tegal</div>
                <div class="panel-body">

                    <div id="mapid" style="height: 500px;"></div>

                </div>
            </div>
        </div>

        <div class="col-sm-3">
            <div class="panel panel-primary">
                <div class="panel-heading">Pencarian</div>
                <div class="panel-body">

                    <select class="form-control">
                        <option>-- Pilih Jenis Data --</option>
                    </select>

                    <select class="form-control">
                        <option>-- Pilih Tahun --</option>
                    </select>
                    <h6> .</h6>
                    <h5>Silahkan Masukkan Rentang Jumlah</h5>
                    <div class="form-group">
                        <input name="awal" placeholder="Nilai Awal" class="form-control" />
                    </div>
                    <div class="form-group">
                        <input name="akhir" placeholder="Nilai Akhir" class="form-control" />
                    </div>

                    <select class="form-control">
                        <option>-- Pilih Jenis Jumlah --</option>
                    </select>

                    <br>
                    <th><a href="<?= base_url() ?>" class="btn btn-info">Cari</a></th>
                    </br>
                </div>
            </div>
        </div>
        <script>
            var data = [
                <?php foreach ($panti as $key => $value) { ?> {
                        "lokasi": [<?= $value->latitude ?>, <?= $value->longitude ?>],
                        "alamat": "<?= $value->alamat ?>",
                        "nama_panas": "<?= $value->nama_panas ?>",
                        "id_panas": "<?= $value->id_panas ?>",
                        "gambar": "<?= $value->gambar ?>"
                    },
                <?php } ?>
            ];
            var mymap = L.map('mapid', {
                zoom: 11,
                center: L.latLng(-6.984450511999229, 109.14754099919053)
            });

            let features = [{
                "type": "Feature",
                "properties": {
                    "name": "Tegal Timur",
                    "party": "tegal_timur"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [

                            [109.13732914056229, -6.84790060735648],
                            [109.1417065055346, -6.8473892967694665],
                            [109.15114788096507, -6.8479858257343755],
                            [109.15707019828055, -6.845344048942546],
                            [109.16144756325286, -6.843980545522042],
                            [109.1588726426809, -6.849860626196676],
                            [109.15252117193677, -6.8592345179304735],
                            [109.1523495105653, -6.863239669980729],
                            [109.1503754047935, -6.864091825644463],
                            [109.1463413625641, -6.879259941010219],
                            [109.14737133079288, -6.886247336849059],
                            [109.13587001890484, -6.885821279072357],
                            [109.1362991723335, -6.866477853385752],
                            [109.1332950983329, -6.865966562734048],
                            [109.13466838930461, -6.859149301563427],
                            [109.13750080193374, -6.8598310320728775],
                            [109.13732914056229, -6.84790060735648]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Tegal Barat",
                    "party": "tegal_barat"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.08602421845045, -6.854821827650476],
                            [109.10336201696823, -6.839397274348937],
                            [109.12954037611637, -6.849282680810164],
                            [109.13675015371783, -6.848174843721707],
                            [109.13829510606101, -6.854395741716807],
                            [109.13726513783222, -6.8597643966380195],
                            [109.134776047946, -6.85925309877587],
                            [109.13348858766003, -6.865899928157989],
                            [109.13623516960345, -6.866752079058271],
                            [109.13297360354565, -6.869990238558386],
                            [109.13160031257394, -6.8740805137777885],
                            [109.12748043965881, -6.873569231300033],
                            [109.12670796347624, -6.8782559667814],
                            [109.11160176278747, -6.876892557599216],
                            [109.11366169924503, -6.86530342164627],
                            [109.11718075736003, -6.86504777575814],
                            [109.11803906421736, -6.859423531484061],
                            [109.11778157216015, -6.859253098802345],
                            [109.08602421845045, -6.854821827650476]

                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Tegal Selatan",
                    "party": "tegal_selatan"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.13272688349333, -6.8697459084458306],
                            [109.13633177229408, -6.870853695361624],
                            [109.13581678817968, -6.883465241282912],
                            [109.13384268240785, -6.88329481721896],
                            [109.13195440732176, -6.891134260800723],
                            [109.13272688349333, -6.892071576903346],
                            [109.13058111635007, -6.89633208127946],
                            [109.12586042863481, -6.894883514089629],
                            [109.12105391023384, -6.899910875344706],
                            [109.1024286514301, -6.89224199781379],
                            [109.10225699005863, -6.890367364429245],
                            [109.11204168823203, -6.88832230137469],
                            [109.11478827017544, -6.87664823100816],
                            [109.12680456617787, -6.877159510172999],
                            [109.12731955029227, -6.8735805444657725],
                            [109.13229773006469, -6.873836185767327],
                            [109.13272688349333, -6.8697459084458306]


                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Adiwerna",
                    "party": "adiwerna"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.07535163918479, -6.905428124288905],
                            [109.07826988249965, -6.905768956435017],
                            [109.08015815758574, -6.911051823291183],
                            [109.09474937416013, -6.918038750059197],
                            [109.13732139428302, -6.921276559124144],
                            [109.13629142605423, -6.939680525251426],
                            [109.14538947874179, -6.9563797978368065],
                            [109.13337318273936, -6.96285486628736],
                            [109.10487739507647, -6.943088588225063],
                            [109.10401908821915, -6.953142230124893],
                            [109.0962943265033, -6.952801432225607],
                            [109.10058586078988, -6.941043753402456],
                            [109.08668128970135, -6.943258990725832],
                            [109.081359787186, -6.9563797978368065],
                            [109.07569496192771, -6.9558686044186135],
                            [109.07861320524259, -6.9337163556823205],
                            [109.081359787186, -6.93286432529332],
                            [109.07929985072845, -6.919231629666537],
                            [109.07603828467064, -6.918379573111658],
                            [109.07535163918479, -6.905428124288905]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Balapulang",
                    "party": "balapulang"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.0464009313378, -7.07428968784115],
                            [109.05549898402535, -7.06049076181139],
                            [109.0561856295112, -7.04141008742136],
                            [109.07266512117165, -7.04549886950877],
                            [109.07472505762922, -7.037321269292642],
                            [109.08107652837337, -7.033062045438858],
                            [109.09498109946189, -7.033743523881018],
                            [109.11592378678039, -7.0615129186059375],
                            [109.15523424084547, -7.064579375435023],
                            [109.162100695704, -7.098479401964551],
                            [109.17394533033497, -7.099331129309081],
                            [109.1696537960484, -7.121134811910201],
                            [109.16089906610377, -7.123349190493547],
                            [109.14150133112842, -7.124200871716434],
                            [109.13446321489843, -7.124371207771129],
                            [109.13154497158355, -7.119601774319767],
                            [109.11472215718015, -7.118239069938208],
                            [109.11094560700795, -7.12164582330161],
                            [109.05858888871168, -7.100012510049346],
                            [109.05910387282607, -7.094902129901993],
                            [109.07232179842873, -7.0947317829197765],
                            [109.07009020059972, -7.0868957536203245],
                            [109.06099214791216, -7.085703302695028],
                            [109.0464009313378, -7.07428968784115]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Bojong",
                    "party": "bojong"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.15403302405689, -7.117565672474808],
                            [109.15437634679982, -7.120972430839302],
                            [109.15815289697201, -7.126593526810593],
                            [109.15317471719958, -7.146607475018037],
                            [109.14519246342654, -7.146862966568084],
                            [109.14304669628325, -7.134428878870606],
                            [109.14622243165532, -7.131703554227791],
                            [109.15017064319898, -7.13264038640351],
                            [109.1524880717137, -7.1239533236500865],
                            [109.15128644211347, -7.120120743620116],
                            [109.15403302405689, -7.117565672474808]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Bumijawa",
                    "party": "bumijawa"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.08230062000035, -7.1191842068825455],
                            [109.13208241772472, -7.120206233442551],
                            [109.1423821000125, -7.1348550303995895],
                            [109.14306874549835, -7.154272480364221],
                            [109.1358589678969, -7.16176671394356],
                            [109.13723225886861, -7.169260824356492],
                            [109.21001668036902, -7.240448706233947],
                            [109.16744466024613, -7.268375817165543],
                            [109.16263814184516, -7.26224562422775],
                            [109.17499776059053, -7.240108121022804],
                            [109.15199513681445, -7.24691977636168],
                            [109.11251302137791, -7.212519865806317],
                            [109.07955403805695, -7.214563497998376],
                            [109.07577748788476, -7.200939109215714],
                            [109.0541481550804, -7.189017433216793],
                            [109.08195729725743, -7.152569228295755],
                            [109.08127065177159, -7.133492371374495],
                            [109.07474751965599, -7.1123706383092955],
                            [109.08230062000035, -7.1191842068825455]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Dukuhturi",
                    "party": "dukuhturi"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.15829298355061, -6.886648109267798],
                            [109.14438841246208, -6.898577561499106],
                            [109.13975355543258, -6.899770490202924],
                            [109.12825224354454, -6.908632152162215],
                            [109.12104246594308, -6.908461737151483],
                            [109.11932585222846, -6.917152824363578],
                            [109.10679457211162, -6.9151078770477925],
                            [109.10919783131212, -6.925673342841827],
                            [109.10284636056797, -6.9195385850407645],
                            [109.10490629702552, -6.914937464371881],
                            [109.09391996925187, -6.918175294701202],
                            [109.07314894330483, -6.901133833612713],
                            [109.07761213896289, -6.887670645506869],
                            [109.10250303782504, -6.889715711371622],
                            [109.11091444502675, -6.897555048789752],
                            [109.12413237062943, -6.898918398578283],
                            [109.13117048685942, -6.89551001674899],
                            [109.13288710057404, -6.885284724187247],
                            [109.15829298355061, -6.886648109267798]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Dukuhwaru",
                    "party": "dukuhwaru"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.1009404454884, -6.940899710920667],
                            [109.08892414948598, -6.9417517267707165],
                            [109.08531926068525, -6.950271800398153],
                            [109.0822293559989, -6.9511237992694985],
                            [109.07038472136794, -6.972082484671204],
                            [109.08634922891402, -7.008544953230217],
                            [109.09647724983034, -6.99082523042526],
                            [109.0930440224011, -6.9904844599339215],
                            [109.09201405417231, -6.986054420936062],
                            [109.10076878411694, -6.981965116914463],
                            [109.10025380000256, -6.967481877845993],
                            [109.10694859348962, -6.966459514641843],
                            [109.10866520720425, -6.960836477182802],
                            [109.11330006423377, -6.962029248336381],
                            [109.10832188446133, -6.9838393856957905],
                            [109.11776325989182, -6.985372872748829],
                            [109.12583134435057, -6.960495684867782],
                            [109.11724827577741, -6.958110131734231],
                            [109.11604664617717, -6.95129419885842],
                            [109.09613392708742, -6.952998191349101],
                            [109.1009404454884, -6.940899710920667]

                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Jatinegara",
                    "party": "jatinegara"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.21551863520659, -7.0132353251292905],
                            [109.18976942948713, -7.030272713114521],
                            [109.1777531334847, -7.047990933866487],
                            [109.16299025553886, -7.041857780179335],
                            [109.15921370536668, -7.051057480276708],
                            [109.17191664685494, -7.057190512187189],
                            [109.16161696456716, -7.0970532355341875],
                            [109.18736617028662, -7.09875669392666],
                            [109.1959492388598, -7.09330560487712],
                            [109.19732252983151, -7.0984160027526935],
                            [109.19114272045883, -7.106592521273868],
                            [109.19938246628907, -7.11102140807689],
                            [109.22513167200854, -7.100800835672142],
                            [109.23714796801099, -7.074226285301745],
                            [109.25877730081535, -7.061619873583015],
                            [109.27525679247582, -7.052420383276682],
                            [109.29207960687921, -6.994152710717948],
                            [109.30134932093824, -6.989381935199783],
                            [109.29791609350896, -6.981544126852107],
                            [109.28761641122117, -6.983248009406088],
                            [109.25877730081535, -6.9829072333917654],
                            [109.23199812686708, -7.003353354423367],
                            [109.23199812686708, -7.016302101006533],
                            [109.21963850812172, -7.019368856681401],
                            [109.21551863520659, -7.0132353251292905]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Kedungbanteng",
                    "party": "Kedungbanteng"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.25487870625551, -6.985449125601038],
                            [109.23822755322358, -6.997887221534438],
                            [109.22020310921995, -6.990901482388048],
                            [109.21797151139093, -6.987834539520858],
                            [109.21453828396164, -6.989708784775737],
                            [109.20046205150166, -6.989879170335296],
                            [109.17711610498267, -6.974885003455738],
                            [109.18569917355583, -6.965002221837742],
                            [109.20612687675994, -6.973862656402484],
                            [109.21093339516092, -6.973351482039072],
                            [109.24131745790993, -6.979655926857344],
                            [109.24972886511162, -6.980167094337793],
                            [109.25487870625551, -6.985449125601038]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Kramat",
                    "party": "kramat"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.16253746200857, -6.843422011253617],
                            [109.18124855149806, -6.861147272437929],
                            [109.22570884670704, -6.863362883728992],
                            [109.23978507916704, -6.879212725077685],
                            [109.22845542865046, -6.91874980597784],
                            [109.22210395790631, -6.910058748138981],
                            [109.21575248716218, -6.910229162574109],
                            [109.21386421207607, -6.902730869337725],
                            [109.21111763013266, -6.903242120379133],
                            [109.21060264601827, -6.915341567056899],
                            [109.20425117527414, -6.916193629092838],
                            [109.2011612705878, -6.900685859649787],
                            [109.1759270489827, -6.898640841128073],
                            [109.17781532406879, -6.889608570388164],
                            [109.14743126131981, -6.885518428917357],
                            [109.16253746200857, -6.843422011253617]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Lebaksiu",
                    "party": "lebaksiu"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.17153220651105, -7.057008443565048],
                            [109.15985923325155, -7.070296405706484],
                            [109.15316443976447, -7.063993189221993],
                            [109.11608558352842, -7.061948884337084],
                            [109.08604484352236, -7.003852786915206],
                            [109.09634452581014, -6.991074079809654],
                            [109.10836082181257, -6.991074079809654],
                            [109.10956245141281, -6.994652153055729],
                            [109.12518363621595, -6.99857096372666],
                            [109.12518363621595, -7.011349465500831],
                            [109.13651328673254, -7.011860598285691],
                            [109.14629798490594, -7.008112278175511],
                            [109.15161948742131, -7.028727665321494],
                            [109.160030894623, -7.030090633923358],
                            [109.1624341538235, -7.051386498538796],
                            [109.17136054513959, -7.057178804469787],
                            [109.16020255599447, -7.070296405706484],
                            [109.15316443976447, -7.063822830826776],
                            [109.11608558352842, -7.061778525188762],
                            [109.1021810124399, -7.039801669435322],
                            [109.09445625072405, -7.033668407478234],
                            [109.17153220651105, -7.057008443565048]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Margasari",
                    "party": "margasari"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.05553146894299, -7.055386986155794],
                            [109.04660507762688, -7.0744670842756125],
                            [109.06102463282983, -7.086051044995893],
                            [109.07029434688883, -7.086391745318025],
                            [109.07166763786053, -7.095249865258357],
                            [109.0582780508864, -7.094568477466002],
                            [109.05896469637226, -7.10138230998907],
                            [109.07578751077564, -7.109558775754512],
                            [109.06789108768835, -7.127273952106049],
                            [109.06033798734396, -7.1282959606316485],
                            [109.05724808265762, -7.137153272320914],
                            [109.05930801911518, -7.1470323792416],
                            [109.03699204082496, -7.140900544897587],
                            [108.99922653910305, -7.141241204518645],
                            [108.96420761932454, -7.1500982655613745],
                            [108.95184800057919, -7.124207912853604],
                            [108.96455094206746, -7.126251941300959],
                            [108.98652359761476, -7.1075146729503675],
                            [108.97622391532697, -7.072082115089485],
                            [108.96764084675381, -7.067312139772173],
                            [108.96970078321137, -7.059816364815338],
                            [108.9868669203577, -7.060838523100064],
                            [109.00609299396157, -7.042098595997127],
                            [109.05553146894299, -7.055386986155794]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Pagerbarang",
                    "party": "pagerbarang"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.09438752671154, -7.033198949302872],
                            [109.07516145310767, -6.993671503391068],
                            [109.06657838453451, -6.993671503391068],
                            [109.06778001413474, -6.97407691603585],
                            [109.04889726327379, -6.977655119320507],
                            [109.04477739035866, -6.986685701203144],
                            [109.02829789869821, -6.984129893829541],
                            [109.0264096236121, -6.990945349109139],
                            [109.0348210308138, -7.000827582659512],
                            [109.02778291458381, -6.9994645284000425],
                            [109.01851320052481, -7.0246803869425065],
                            [109.03430604669941, -7.049554150874063],
                            [109.05576371813231, -7.055005756503914],
                            [109.05593537950378, -7.041206255455822],
                            [109.07567643722206, -7.043250651904435],
                            [109.07447480762181, -7.0374581719007185],
                            [109.09438752671154, -7.033198949302872]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Pangkah",
                    "party": "pangkah"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.14325417881668, -6.944422921000069],
                            [109.15492715207616, -6.94476372497326],
                            [109.15733041127666, -6.951920551353541],
                            [109.16248025242055, -6.951579752568165],
                            [109.16282357516347, -6.94476372497326],
                            [109.19475259025565, -6.949875754934107],
                            [109.19097604008344, -6.959418062077254],
                            [109.16900338453615, -6.986339953471123],
                            [109.17003335276493, -7.021097570349872],
                            [109.19131936282636, -7.034386561859002],
                            [109.17758645310931, -7.047675173054068],
                            [109.15115060190398, -7.0272309982594985],
                            [109.1435975015596, -6.996903816823301],
                            [109.15630044304787, -6.991451530080477],
                            [109.15046395641812, -6.985658405700058],
                            [109.14256753333082, -6.9696417473165795],
                            [109.14325417881668, -6.944422921000069]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Slawi",
                    "party": "slawi"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.12452839617603, -6.997085556930275],
                            [109.12298344383287, -6.979876567138246],
                            [109.11937855503214, -6.979876567138246],
                            [109.1162886503458, -6.994189038650911],
                            [109.11422871388824, -6.9943594225764665],
                            [109.11646031171726, -6.971016246311094],
                            [109.12195347560407, -6.971016246311094],
                            [109.12229679834702, -6.971016246311094],
                            [109.1228117824614, -6.965734052248716],
                            [109.11525868211702, -6.9568734641075585],
                            [109.11989353914652, -6.956703066542449],
                            [109.12504338029042, -6.966245234920309],
                            [109.1279616236053, -6.9604517986883625],
                            [109.1382613058931, -6.962496549057268],
                            [109.1452994221231, -6.961814966590984],
                            [109.14581440623748, -6.979535788668422],
                            [109.12452839617603, -6.997085556930275]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Suradadi",
                    "party": "suradadi"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.26798576223501, -6.873071917685186],
                            [109.28334945498098, -6.873583200697898],
                            [109.28334945498098, -6.879292490303284],
                            [109.28025955029464, -6.88005940457463],
                            [109.28163284126636, -6.904259173545172],
                            [109.27948707412305, -6.909201227839059],
                            [109.27493804777929, -6.909201227839059],
                            [109.27605384669378, -6.903321881561764],
                            [109.2744230636649, -6.903066256153174],
                            [109.27493804777929, -6.900169158540559],
                            [109.26086181531932, -6.897442462240371],
                            [109.26352256657698, -6.883808745402173],
                            [109.26197761423381, -6.8770769532296745],
                            [109.26472419617721, -6.877417805759785],
                            [109.2678999315493, -6.874350124185754],
                            [109.26798576223501, -6.873071917685186]

                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Talang",
                    "party": "talang"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.17736584659832, -6.889631631915767],
                            [109.16964108488249, -6.914171737956719],
                            [109.15298993185056, -6.915875864711716],
                            [109.15058667265006, -6.931894355500454],
                            [109.15161664087886, -6.940755414455253],
                            [109.14148861996252, -6.950127506808024],
                            [109.13633877881863, -6.939392185469123],
                            [109.13771206979031, -6.920817797530028],
                            [109.11900098030083, -6.916898337813864],
                            [109.12071759401546, -6.908207245921645],
                            [109.12844235573131, -6.908207245921645],
                            [109.15213162499323, -6.888779522059436],
                            [109.17736584659832, -6.889631631915767]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Tarub",
                    "party": "tarub"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.17446715364252, -6.915415844268026],
                            [109.17862994190048, -6.9172477754571],
                            [109.17768580435744, -6.921380245297545],
                            [109.17905909532914, -6.9229991411460094],
                            [109.17905909532914, -6.9255126789568155],
                            [109.17639834407147, -6.924703236038936],
                            [109.17584044461422, -6.928281815276135],
                            [109.17287928595648, -6.927301968898877],
                            [109.1737375928138, -6.925981303169162],
                            [109.17253596321355, -6.925640485606352],
                            [109.17163474101338, -6.919420521841315],
                            [109.1719780637563, -6.918099834054212],
                            [109.17257887855642, -6.918099834054212],
                            [109.17446715364252, -6.915415844268026]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Warureja",
                    "party": "warureja"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.28991153267404, -6.873699003021146],
                            [109.35033633542909, -6.861428061999358],
                            [109.35891940400226, -6.880856905687721],
                            [109.33832003942666, -6.902670800171518],
                            [109.32664706616717, -6.926869412902778],
                            [109.31497409290768, -6.984123149838873],
                            [109.30158450593355, -6.987871662593216],
                            [109.29986789221891, -6.983441598837116],
                            [109.2957480193038, -6.970491941228666],
                            [109.29986789221891, -6.959927481794892],
                            [109.28853824170234, -6.953111575294352],
                            [109.27789523667161, -6.94493235697496],
                            [109.29368808284623, -6.925165325834779],
                            [109.28991153267404, -6.873699003021146]
                        ]
                    ]
                }
            }, {
                "type": "Feature",
                "properties": {
                    "name": "Margadana",
                    "party": "margadana"
                },
                "geometry": {
                    "type": "Polygon",
                    "coordinates": [
                        [
                            [109.08596822216914, -6.855000046065328],
                            [109.08133336513963, -6.859346099201376],
                            [109.08124753445391, -6.871191023015736],
                            [109.07609769331, -6.8738326564477],
                            [109.07498189439548, -6.881246194414288],
                            [109.07738515359597, -6.887807505017349],
                            [109.08176251856828, -6.888574405528777],
                            [109.08382245502584, -6.8875518712379975],
                            [109.10759755497351, -6.890363835232515],
                            [109.11206075063156, -6.888148349842196],
                            [109.11197491994581, -6.872895304329532],
                            [109.11497899394642, -6.8708501660198475],
                            [109.11506482463216, -6.867697227226226],
                            [109.11334821091752, -6.867441582624261],
                            [109.11360570297472, -6.865140775025249],
                            [109.11721059177545, -6.865396420863418],
                            [109.11763974520412, -6.859346099201376],
                            [109.10030194668632, -6.856619168533644],
                            [109.1002161160006, -6.858920017313512],
                            [109.09231969291328, -6.859346099201376],
                            [109.08596822216914, -6.855000046065328]
                        ]
                    ]
                }
            }]

            L.geoJSON(features, {
                style: function(feature) {
                    switch (feature.properties.party) {
                        case "margadana":
                            return {
                                color: "#FF0000"
                            };
                        case "tegal_timur":
                            return {
                                color: "#FF8000"
                            };
                        case "tegal_barat":
                            return {
                                color: "#FFFF00"
                            };
                        case "tegal_selatan":
                            return {
                                color: "#80FF00"
                            };
                        case "adiwerna":
                            return {
                                color: "#00FF00"
                            };
                        case "balapulang":
                            return {
                                color: "#00FF80"
                            };
                        case "bojong":
                            return {
                                color: "#00FFFF"
                            };
                        case "bumijawa":
                            return {
                                color: "#0080FF"
                            };
                        case "dukuhturi":
                            return {
                                color: "#0000FF"
                            };
                        case "dukuhwaru":
                            return {
                                color: "#7F00FF"
                            };
                        case "jatinegara":
                            return {
                                color: "#FF00FF"
                            };
                        case "kedungbanteng":
                            return {
                                color: "#FF007F"
                            };
                        case "kramat":
                            return {
                                color: "#808080"
                            };
                        case "lebaksiu":
                            return {
                                color: "#FF9999"
                            };
                        case "margasari":
                            return {
                                color: "#FFCC99"
                            };
                        case "pagerbarang":
                            return {
                                color: "#FFFF99"
                            };
                        case "pangkah":
                            return {
                                color: "#CCFF99"
                            };
                        case "slawi":
                            return {
                                color: "#99FF99"
                            };
                        case "suradadi":
                            return {
                                color: "#99FFCC"
                            };
                        case "talang":
                            return {
                                color: "#99FFFF"
                            };
                        case "tarub":
                            return {
                                color: "#99CCFF"
                            };
                        case "warureja":
                            return {
                                color: "#9999FF"
                            };

                    }
                }
            }).addTo(mymap).bindPopup(
                    "<br><a href='<?= base_url('kosong') ?>" + "' class='btn btn-sm btn-default'>Statistik</a></br>");

            mymap.addLayer(L.tileLayer('https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                attribution: 'Map data &copy; <a href="https://www.openstreetmap.org">OpenStreetMap</a> Pengguna, ' +
                    '<a href="https://creativecommons.org/licenses/by-sa/2.0/">Yusli Bahtiar</a>,' +
                    'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                id: 'mapbox/streets-v11'
            }));

            // menambah titik koordinat
            var markersLayer = new L.LayerGroup();

            mymap.addLayer(markersLayer);

            var controlSearch = new L.Control.Search({
                position: 'topright',
                layer: markersLayer,
                initial: false,
                zoom: 19,
                marker: false
            });

            mymap.addControl(new L.Control.Search({
                layer: markersLayer,
                initial: false,
                collapsed: true,
            }));

            for (i in data) {
                //isi pencarian yang muncul
                // var alamat = data[i].alamat;
                var nama_panas = data[i].nama_panas;
                //auto posision lokasi ketika di klik
                var lokasi = data[i].lokasi;
                var idpanas = data[i].id_panas;
                var gambar = data[i].gambar;
                var marker = L.marker(L.latLng(lokasi), {
                    title: [nama_panas]
                });
                marker.bindPopup("<img src='<?= base_url('gambar/') ?>" + gambar + "' width='100%' height='100%'>"  + nama_panas +
                    "<br><a href='<?= base_url('webgis/detail/') ?>" + idpanas + "' class='btn btn-sm btn-default'>Detail</a></br>");
                markersLayer.addLayer(marker);
            }
        </script>
    </div>
</div>